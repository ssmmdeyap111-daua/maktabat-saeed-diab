<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>الكتب والمؤلفات الذكية</title>
<style>
body { font-family: Arial, sans-serif; background:#f9f9f9; margin:20px; }
h2 { text-align:center; color:#333; }
#searchBar { width:100%; max-width:400px; display:block; margin:0 auto 20px auto; padding:10px; font-size:16px; border-radius:5px; border:1px solid #ccc; }
#categoryFilter { display:flex; justify-content:center; gap:10px; margin-bottom:20px; flex-wrap:wrap; }
.category-btn { padding:8px 15px; border:none; border-radius:5px; background-color:#0077cc; color:white; cursor:pointer; }
.category-btn.active { background-color:#005fa3; }
.books-container { display:flex; flex-wrap:wrap; gap:20px; justify-content:center; }
.book-item { background:#fff; border:1px solid #ccc; border-radius:8px; padding:15px; width:220px; text-align:center; cursor:pointer; transition: transform 0.2s, box-shadow 0.2s; }
.book-item:hover { transform:translateY(-5px); box-shadow:0 5px 15px rgba(0,0,0,0.2); }
.book-item img { width:120px; height:160px; object-fit:cover; margin-bottom:10px; border-radius:5px; }
.book-item span { display:block; font-weight:bold; color:#0077cc; }
.pdf-viewer { width:100%; height:600px; margin-top:30px; border:1px solid #ccc; display:none; }
@media(max-width:600px){ .book-item{ width:45%; } }
@media(max-width:400px){ .book-item{ width:100%; } }
</style>
</head>
<body>

<h2>الكتب والمؤلفات الذكية</h2>

<input type="text" id="searchBar" placeholder="ابحث عن كتاب...">

<div id="categoryFilter">
    <button class="category-btn active" data-category="all">الكل</button>
    <button class="category-btn" data-category="القرآن">القرآن</button>
    <button class="category-btn" data-category="الأدعية">الأدعية</button>
    <button class="category-btn" data-category="الفقه">الفقه</button>
</div>

<div class="books-container" id="booksContainer"></div>

<iframe id="pdfViewer" class="pdf-viewer"></iframe>

<script>
// الكتب الذكية - يتم توليدها تلقائيًا
const books = [
    {title:"الإرشاد إلى أسباب محبة الله للعباد", pdf:"pdfs/al-irshad.pdf", image:"images/al-irshad.jpg", category:"القرآن"},
    {title:"أساليب القرآن", pdf:"pdfs/asaleeb-alquran.pdf", image:"images/asaleeb-alquran.jpg", category:"القرآن"},
    {title:"فضل الدعاء", pdf:"pdfs/fadhl-duaa.pdf", image:"images/fadhl-duaa.jpg", category:"الأدعية"},
    {title:"إشفاء أهل الرسوخ", pdf:"pdfs/itshaf-ahli-al-rusukh.pdf", image:"images/itshaf-ahli-al-rusukh.jpg", category:"الفقه"},
    {title:"تمام المنّة", pdf:"pdfs/tamam-al-minah.pdf", image:"images/tamam-al-minah.jpg", category:"الفقه"},
    {title:"الإلمام بما للصيام من حكم وآداب وأحكام", pdf:"pdfs/al-ilmam-siyam.pdf", image:"images/al-ilmam-siyam.jpg", category:"الفقه"}
];

// وظيفة عرض الكتب
function displayBooks(filteredBooks){
    const container = document.getElementById('booksContainer');
    container.innerHTML = '';
    filteredBooks.forEach(book=>{
        const div = document.createElement('div');
        div.className='book-item';
        div.onclick=()=>showPDF(book.pdf);
        div.innerHTML=`<img src="${book.image}" alt="غلاف ${book.title}"><span>${book.title}</span>`;
        container.appendChild(div);
    });
}

// عرض كل الكتب في البداية
displayBooks(books);

// البحث
document.getElementById('searchBar').addEventListener('input', e=>{
    const query=e.target.value.toLowerCase();
    const activeCategory=document.querySelector('.category-btn.active').dataset.category;
    displayBooks(books.filter(b=>(activeCategory==='all'||b.category===activeCategory)&&b.title.toLowerCase().includes(query)));
});

// تصنيف
document.querySelectorAll('.category-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
        document.querySelectorAll('.category-btn').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const cat=btn.dataset.category;
        const query=document.getElementById('searchBar').value.toLowerCase();
        displayBooks(books.filter(b=>(cat==='all'||b.category===cat)&&b.title.toLowerCase().includes(query)));
    });
});

// عرض PDF
function showPDF(pdfPath){
    const viewer=document.getElementById('pdfViewer');
    viewer.src=pdfPath;
    viewer.style.display='block';
    viewer.scrollIntoView({behavior:'smooth'});
}
</script>

</body>
</html>
